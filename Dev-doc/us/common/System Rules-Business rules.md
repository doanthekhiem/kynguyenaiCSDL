# System Rules - Business rules

<div class="joplin-table-wrapper"><table><tbody><tr><th></th><th><h4><strong><strong>Code</strong></strong></h4></th><th><p><strong>Validator</strong></p></th><th><p><strong>Component</strong></p></th><th><p><strong>Ý nghĩa</strong></p></th><th><p><strong>Trạng thái</strong></p></th></tr><tr><td><p>1</p></td><td><h4>SYS-RULE-001</h4></td><td><p>Xác nhận cấp phát tài nguyên</p></td><td><p>Onboarding</p></td><td><p>Hiện pop-up xác nhận "Bạn có chắc chắn muốn cấp phát tài nguyên cho đối tác {<strong>Mã đối tác</strong>} - {<strong>Tên đối tác</strong>}?".</p></td><td></td></tr><tr><td><p>2</p></td><td><h4>SYS-RULE-002</h4></td><td><p>Xác nhận kích hoạt đối tác</p></td><td><p>Onboarding</p></td><td><p>Hiện pop-up xác nhận "Sau khi kích hoạt , đối tác {<strong>Mã đối tác</strong>} - {<strong>Tên đối tác</strong>} có thể sử dụng các dịch vụ đã đăng ký, bạn có chắc chắn muốn kích hoạt?".</p></td><td></td></tr><tr><td><p>3</p></td><td><h4>SYS-RULE-003</h4></td><td><p>gen mật khẩu gửi cho nhân viên/ đối tác khi mới khởi tạo user</p></td><td><p>Onboarding</p></td><td><ul><li>Hệ thống tự random mật khẩu,</li><li>Tối thiểu 8 ký tự</li><li>Bao gồm chữ cái viết hoa, viết thường, số, ký tự đặc biệt (^ $ * . [ ] { } ( ) ? " ! @ # % &amp; / \ , &gt; &lt; ' : ; | _ ~ ` = + -) &nbsp;</li></ul></td><td></td></tr><tr><td><p>4</p></td><td><h4>SYS-RULE-004</h4></td><td><p>Xác nhận hủy khi thực hiện hành động thêm mới/ chỉnh sửa</p></td><td><p>Onboarding</p></td><td><p>Hiện pop-up xác nhận hủy "Thông tin bạn vừa nhập sẽ không được lưu."</p></td><td></td></tr><tr><td><p>5</p></td><td><h4>SYS-RULE-005</h4></td><td><p>Bắt buộc</p></td><td><p>Common</p></td><td><p>Trường bắt buộc sẽ hiển thị lỗi nếu trống hoặc sai.</p></td><td></td></tr><tr><td><p>6</p></td><td><h4>SYS-RULE-006</h4></td><td><p>Tự sinh mã Tenant khi khởi tạo Tenant</p></td><td><p>Onboarding</p></td><td><p>Mã được phân loại theo loại Tenant:</p><ul><li>SCHOOL: [SCH] + số thứ tự tăng dần bắt đầu từ 1</li><li>EDU_CENTER: [EDC] + số thứ tự tăng dần bắt đầu từ 1</li><li>INDIVIDUAL: [IND] + số thứ tự tăng dần bắt đầu từ 1</li></ul></td><td></td></tr><tr><td><p>7</p></td><td><h4>SYS-RULE-007</h4></td><td><p>Định dạng Email</p></td><td><p>Common</p></td><td><ul><li>Định dạng […]@[tên miền].[phần mở rộng]</li><li>Định dạng email hợp lệ: ví dụ@example.com (trước @ là prefix, sau @ là domain).<ul><li>Prefix hợp lệ: a-z, số, _, ., - (không đứng đầu/kết thúc, không lặp).<br>Ví dụ sai: abc-@, abc..def@, .abc@, abc#def@<br>Ví dụ đúng: abc-d@, abc.def@, abc@, abc_def@</li><li>Domain hợp lệ: chữ cái, số, dấu chấm, gạch ngang. Phần cuối ít nhất 2 ký tự (.com, .org, .cc,...).<br>Ví dụ sai: mail.c, mail#<a href="http://archive.com/">http://archive.com</a> , mail, mail..com<br>Ví dụ đúng: mail.cc, <a href="http://mail-archive.com/">http://mail-archive.com</a> , <a href="http://mail.org/">mail.org</a>, <a href="http://mail.com/">http://mail.com</a></li></ul></li></ul></td><td></td></tr><tr><td><p>8</p></td><td><h4>SYS-RULE-008</h4></td><td><p>Định dạng số điện thoại</p></td><td><p>Common</p></td><td><p>Định dạng số điện thoại:</p><ul><li>Số điện thoại phải có độ dài chính xác là 10 số, bắt đầu bằng số 0</li><li>Các ký tự phải là số, không cho phép nhập ký tự đặc biệt hoặc chữ cái</li></ul></td><td></td></tr><tr><td><p>9</p></td><td><h4>SYS-RULE-009</h4></td><td><p>Subdomain rule</p></td><td><p>Onboarding</p></td><td><ul><li>Subdomain rules:<ul><li>Độ dài: Tối đa 20 ký tự thường</li><li>Chỉ cho phép sử dụng các ký tự:<ul><li>Chữ cái (a-z)</li><li>Số 0 - 9</li><li>Dấu gạch ngang (-)</li><li>Không bắt đầu hoặc kết thúc bằng dấu gạch ngang</li><li>Không bắt đầu bằng số</li><li>Không cho phép các ký tự đặc biệt</li></ul></li><li>Không chứa khoảng trắng trong Subdomain</li><li>Subdomain phải unique trong hệ thống để tránh trùng lặp</li></ul></li></ul></td><td></td></tr><tr><td><p>10</p></td><td></td><td></td><td></td><td><p><strong></strong><strong></strong></p></td><td></td></tr><tr><td><p>11</p></td><td><h4>SYS-RULE-011</h4></td><td><p>Tải ảnh lên</p></td><td><p>Common</p></td><td><ul><li>Dung lượng: &lt;= 5Mb</li><li>Filetype: .JPG, .PNG, .JPEG, .HEIC, .HEIF</li><li>Kích thước: max 1920x1080</li><li>Cho phép cấu hình dung lượng file uploaded</li></ul></td><td></td></tr><tr><td><p>12</p></td><td><h4>SYS-RULE-012</h4></td><td><p>Web - Giao diện danh sách</p></td><td><p>Common</p></td><td><p>Mặc định 20 bản ghi/trang, có thể chọn 20, 50, 100.</p></td><td></td></tr><tr><td><p>13</p></td><td><h4>SYS-RULE-013</h4></td><td><p>Web - Phân trang &amp; cuộn</p></td><td><p>Common</p></td><td><p>Tải 20 bản ghi/trang, hỗ trợ cuộn, thanh tiêu đề ẩn/hiện.</p></td><td></td></tr><tr><td><p>14</p></td><td><h4>SYS-RULE-014</h4></td><td><p>Web - Phân trang</p></td><td><p>Common</p></td><td><p>Hiển thị 5 số trang, có chuyển nhanh và điều hướng.</p></td><td></td></tr><tr><td><p>15</p></td><td><h4>SYS-RULE-015</h4></td><td><p>Mã số thuế</p></td><td><p>Onboarding</p></td><td><ul><li>Có 2 loại MST: Loại 10 số và 13 số<ul><li>Loại 10 số, chỉ cho phép nhập số từ 0-9</li><li>Loại 13 số và dấu gạch ngang (-) dùng để phân tách giữa 10 số đầu và 3 số cuối</li></ul></li><li>Cấu trúc của 1 MST:<ul><li>N1N2 N3N4N5N6N7N8N9 N10 - N11N12N13</li></ul></li><li>Cụ thể trong đó:<ul><li>Hai chữ số đầu của mã số thuế N1N2 là số phân khoảng của mã số thuế.</li><li>Bảy chữ số tiếp theo của mã số thuế N3N4N5N6N7N8N9 được quy định theo một cấu trúc xác định, tăng dần trong khoảng từ 0000001 đến 9999999.</li><li>Chữ số N10 của mã số thuế là chữ số kiểm tra.</li><li>Ba chữ số N11N12N13 của mã số thuế là các số thứ tự từ 001 đến 999.</li><li>Dấu gạch ngang (-) là ký tự để phân tách nhóm 10 chữ số đầu và nhóm 3 chữ số cuối của mã số thuế.</li></ul></li><li>Tự động trim khoảng trắng trước và sau dấu gạch ngang (-)</li></ul></td><td></td></tr><tr><td><p>16</p></td><td><h4>SYS-RULE-016</h4></td><td><p>Xác nhận chấm dứt hợp đồng đối tác</p></td><td><p>Onboarding</p></td><td><p>Hiện pop-up xác nhận "Sau khi chấm dứt hợp đồng, đối tác {<strong>Mã đối tác</strong>} - {<strong>Tên đối tác</strong>} không thể sử dụng các dịch vụ đã đăng ký, bạn có chắc chắn muốn chấm dứt hợp đồng?".</p></td><td></td></tr><tr><td><p>17</p></td><td><h4>SYS-RULE-017</h4></td><td><p>Định dạng cho mật khẩu đăng nhập</p></td><td><p>Common đăng nhập</p></td><td><ul><li>Tối thiểu 8 ký tự</li><li>Bao gồm chữ cái viết hoa, viết thường, số, ký tự đặc biệt (^ $ * . [ ] { } ( ) ? " ! @ # % &amp; / \ , &gt; &lt; ' : ; | _ ~ ` = + -)</li></ul></td><td></td></tr><tr><td><p>18</p></td><td><h4>SYS-RULE-018</h4></td><td><p>Tự sinh mã Role khi thêm mới role</p></td><td><p>Authen EMS</p></td><td><p>Mã role được sinh theo rule:</p><ul><li>[RL] + số thứ tự tăng dần bắt đầu từ 1</li><li>Unique cho từng mã</li></ul></td><td></td></tr><tr><td><p>19</p></td><td><h4>SYS-RULE-019</h4></td><td><p>Tự sinh mã nhóm người dùng khi thêm mới người dùng</p></td><td><p>Authen EMS</p></td><td><p>Mã nhóm người dùng được sinh theo rule:</p><ul><li>[UGR] + số thứ tự tăng dần bắt đầu từ 1</li><li>Unique cho từng mã</li></ul></td><td></td></tr><tr><td><p>20</p></td><td><h4>SYS-RULE-020</h4></td><td><p>Xác nhận chỉnh sửa người dùng</p></td><td><p>Onboarding</p></td><td><p>Hiện pop-up xác nhận "Một số thay đổi bạn vừa thực hiện có thể ảnh hưởng đến vai trò, nhóm người dùng hoặc quyền truy cập của người này. Bạn có muốn tiếp tục lưu thay đổi không?"</p></td><td></td></tr><tr><td><p>21</p></td><td><h4>SYS-RULE-021</h4></td><td><p>Xác nhận chỉnh sửa nhóm người dùng</p></td><td><p>Onboarding</p></td><td><p>Hiện pop-up xác nhận "Một số thay đổi bạn vừa thực hiện có thể ảnh hưởng đến vai trò, quyền truy cập hoặc các thành viên của nhóm người dùng này. Bạn có muốn tiếp tục lưu thay đổi không?"</p></td><td></td></tr><tr><td><p>22</p></td><td><h4>SYS-RULE-022</h4></td><td><p>Xác nhận xóa người dùng khỏi nhóm</p></td><td><p>Authen EMS, EOP</p></td><td><p>Hiện pop-up xác nhận "Sau khi xóa, người dùng sẽ không còn thuộc nhóm và sẽ mất toàn bộ quyền hạn được phân từ nhóm này. Bạn có chắc chắn muốn xóa người dùng khỏi nhóm không?"</p></td><td></td></tr><tr><td><p>23</p></td><td><h4>SYS-RULE-023</h4></td><td><p>Xác nhận xóa nhóm</p></td><td><p>Authen EMS, EOP</p></td><td><p>Hiện pop-up xác nhận "Sau khi xóa, người dùng sẽ không còn thuộc nhóm và sẽ mất toàn bộ quyền hạn được phân từ nhóm này. Bạn có chắc chắn muốn xóa nhóm không?"</p></td><td></td></tr><tr><td><p>24</p></td><td><h4>SYS-RULE-024</h4></td><td><p>Đồng ý báo giá</p></td><td><p>Authen EMS, EOP</p></td><td><p>Hiện pop-up xác nhận "Sau khi đồng ý, người dùng sẽ không thể chọn báo giá khác. Bạn có chắc muốn đồng ý với báo giá này?"</p></td><td></td></tr><tr><td><p>25</p></td><td><h4>SYS-RULE-025</h4></td><td><p>Từ chối báo giá</p></td><td><p>Authen EMS, EOP</p></td><td><p>Hiện pop-up xác nhận "Sau khi từ chối, người dùng sẽ không thể thay đổi lựa chọn báo giá này. Bạn có chắc muốn từ chối báo giá này?"</p></td><td></td></tr><tr><td><p>26</p></td><td><h4>SYS-RULE-026</h4></td><td><p>Áp dụng cho tất cả thành viên hệ thống?</p></td><td><p>Authen EMS, EOP</p></td><td><p>Hiện popup xác nhận "Sau khi xác nhận, vai trò sẽ tự động áp dụng cho mọi thành viên trong &lt;Tên tổ chức nhà trường/ đối tác&gt;, bao gồm thành viên hiện tại và mới trong tương lai."</p></td><td></td></tr><tr><td><p>27</p></td><td><h4>SYS-RULE-027</h4></td><td><p>Dừng áp dụng cho tất cả thành viên?</p></td><td><p>Authen EMS, EOP</p></td><td><p>Hiện popup xác nhận "Sau khi xác nhận, vai trò sẽ không còn áp dụng cho toàn bộ thành viên trong hệ thống của &lt;Tên tổ chức nhà trường/ đối tác&gt;. Bạn sẽ cần chọn lại các đối tượng áp dụng cụ thể cho vai trò này."</p></td><td></td></tr><tr><td><p>28</p></td><td><h4><br>SYS-RULE-028</h4></td><td><p>Domain rule</p></td><td><p>Onboarding</p></td><td><p>Domain rules:</p><ul><li><strong>Độ dài tổng</strong>: <strong>từ 3 - 253 ký tự</strong>.</li><li><strong>Cấu trúc</strong>: Domain gồm nhiều label nối bằng dấu chấm (.). Ít nhất một dấu chấm phải xuất hiện<ul><li>Ví dụ example.com</li></ul></li><li><strong>Label rules (mỗi label)</strong>:<ul><li>Bắt đầu và kết thúc bằng chữ cái hoặc số (a-z, 0-9).</li><li>Có thể chứa dấu - ở giữa, nhưng <strong>không</strong> được bắt đầu/kết thúc bằng -.</li><li>Độ dài mỗi label: <strong>1-63 ký tự</strong>.</li><li>Không được có hai dấu chấm liên tiếp (..)</li></ul></li><li><strong>TLD (label cuối)</strong>:<ul><li>Chỉ chứa chữ cái hoặc chữ số (không chứa dấu - ở cuối).</li><li>Độ dài TLD: <strong>2-10 ký tự</strong>.</li></ul></li><li><strong>Không chấp nhận URL đầy đủ</strong>:<ul><li>Không được chứa http://, https://, path (/), port (: sau host) hoặc query (?).</li></ul></li><li><strong>Không cho phép ký tự lạ/không ASCII</strong>:<ul><li>Chỉ chấp nhận ký tự a-z, 0-9, - và . (không phân biệt hoa/thường).</li></ul></li><li><strong>Unique</strong>:<ul><li>Domain phải <strong>không trùng</strong> với domain đã có trong hệ thống.</li></ul></li></ul></td><td></td></tr><tr><td><p>29</p></td><td><h4>SYS-RULE-029</h4></td><td><p>Xác nhận chuyển trạng thái</p></td><td><p>Authen EMS, EOP</p></td><td><p>Hiện popup xác nhận "Bạn có xác nhận thay đổi trạng thái từ <strong>&lt;Trạng thái hiện tại&gt;</strong> sang <strong>&lt;Trạng thái muốn thay đổi&gt;</strong> của nhóm này không?"</p></td><td></td></tr><tr><td><p>30</p></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><p>31</p></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><p>32</p></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><p>33</p></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div>