# HLD - TM-CITY-DREAMER (Time Machine Module - City Dreamer)

## 1. Bá»‘i cáº£nh

**City Dreamer** lÃ  module cho phÃ©p ngÆ°á»i dÃ¹ng "thiáº¿t káº¿" ngÃ´i nhÃ /cÄƒn há»™ tÆ°Æ¡ng lai cá»§a há» báº±ng cÃ¡ch Ä‘iá»u chá»‰nh cÃ¡c parameters nhÆ° máº­t Ä‘á»™ cÃ¢y xanh, má»©c Ä‘á»™ cÃ´ng nghá»‡, kiá»ƒu kiáº¿n trÃºc.

## 2. User Interface

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ðŸ™ï¸ KIáº¾N Táº O ÄÃ” THá»Š TÆ¯Æ NG LAI                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Thiáº¿t káº¿ ngÃ´i nhÃ  2045 cá»§a báº¡n táº¡i [Thu Duc]                  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Máº­t Ä‘á»™ cÃ¢y xanh                                            â”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 70%                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Má»©c Ä‘á»™ cÃ´ng nghá»‡                                          â”‚ â”‚
â”‚  â”‚ â—‹ Low-tech  â— Medium-tech  â—‹ High-tech                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Kiá»ƒu kiáº¿n trÃºc                                            â”‚ â”‚
â”‚  â”‚ â—‹ TÃ¢n truyá»n thá»‘ng  â— Minimalist  â—‹ Biophilic           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â”‚  ðŸŽ¨ Táº¡o HÃ¬nh áº¢nh         â”‚                        â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. Parameters

```typescript
interface CityDreamerParams {
    location: 'can-gio' | 'thu-duc' | 'hanoi';
    greenCoverage: number; // 0-100%
    techLevel: 'low' | 'medium' | 'high';
    architectureStyle: 'neo-traditional' | 'minimalist' | 'biophilic';
    homeType: 'apartment' | 'house' | 'villa';
}
```

## 4. Image Prompt Generation

```typescript
const buildCityDreamerPrompt = (params: CityDreamerParams): string => {
    const greenModifier = params.greenCoverage > 70
        ? 'abundant vertical gardens, rooftop forests, living walls'
        : params.greenCoverage > 40
        ? 'balanced integration of greenery'
        : 'minimalist green accents';

    const techModifier = {
        'low': 'traditional materials with subtle tech, manual controls',
        'medium': 'smart home features, solar panels, automated systems',
        'high': 'holographic displays, AI assistant, full automation, quantum glass'
    }[params.techLevel];

    const styleModifier = {
        'neo-traditional': 'Vietnamese traditional elements, wooden accents, curved roofs',
        'minimalist': 'clean lines, monochrome palette, open spaces',
        'biophilic': 'natural materials, organic shapes, nature integration'
    }[params.architectureStyle];

    return `
        Solarpunk ${params.homeType} in ${getLocationName(params.location)} 2045,
        ${styleModifier},
        ${greenModifier},
        ${techModifier},
        golden hour lighting, architectural photography,
        8k resolution, photorealistic
    `.trim();
};
```

## 5. API Contract

```typescript
// POST /api/modules/city-dreamer/generate
interface CityDreamerRequest {
    sessionId: string;
    params: CityDreamerParams;
}

interface CityDreamerResponse {
    imageUrl: string;
    prompt: string;
    estimatedCost: string; // "~50,000Ä‘/thÃ¡ng" based on params
}
```

## 6. Premium Feature

- Free tier: 1 generation/day, standard quality
- Premium tier: Unlimited, 4K quality, multiple angles

---

**TÃ i liá»‡u liÃªn quan:**
- [HLD-AI-IMAGE-GENERATION.md](./HLD-AI-IMAGE-GENERATION.md)
- [HLD-TM-JOURNEY.md](./HLD-TM-JOURNEY.md)
